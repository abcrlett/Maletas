<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Checklist de Viaje ‚Äî Selector + Checklist</title>
  <style>
    :root { --bg:#0b0d10; --card:#12161c; --text:#e9eef5; --muted:#a9b4c2; --line:#232b36; --accent:#7dd3fc; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; background: linear-gradient(180deg, #07080a, #0b0d10 40%, #0b0d10); color: var(--text); }
    header { padding: 22px 16px 8px; max-width: 980px; margin: 0 auto; }
    h1 { margin:0 0 8px; font-size: 20px; }
    p { margin:0; color: var(--muted); line-height: 1.5; }
    main { padding: 12px 16px 28px; max-width: 980px; margin: 0 auto; }
    .card {
      background: rgba(18,22,28,0.95);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 14px;
      margin: 10px 0;
      box-shadow: 0 10px 20px rgba(0,0,0,0.25);
    }
    h2 { font-size: 15px; margin: 0 0 10px; color: var(--accent); }
    h3 { font-size: 13px; margin: 12px 0 6px; color: #cfe8ff; }
    .meta { display:grid; gap: 10px; }
    @media (min-width: 700px) { .meta { grid-template-columns: repeat(3,1fr); } }
    label { display:block; font-weight: 800; margin-bottom: 6px; }
    select, input[type="text"]{
      width:100%; padding: 10px 10px; border-radius: 10px; border: 1px solid var(--line);
      background: #0f1318; color: var(--text);
    }
    .row { display:flex; align-items:center; gap:10px; flex-wrap:wrap; margin-top: 10px; }
    button {
      appearance:none; border:1px solid var(--line); background: var(--card); color: var(--text);
      padding: 10px 12px; border-radius: 10px; cursor:pointer; font-weight: 900;
    }
    button.primary { border-color: #2b3a4b; background: #101826; }
    button:hover { border-color: #324053; }

    .toolbar { display:flex; flex-wrap: wrap; gap: 8px; margin: 10px 0 0; }
    details { border: 1px solid var(--line); border-radius: 12px; padding: 10px 12px; background: rgba(0,0,0,0.12); }
    details + details { margin-top: 10px; }
    summary { list-style: none; cursor:pointer; font-weight: 900; display:flex; align-items:center; gap: 10px; user-select:none; }
    summary::-webkit-details-marker { display:none; }
    summary .pill { font-size: 12px; padding: 2px 8px; border: 1px solid var(--line); border-radius: 999px; color: var(--muted); }
    summary .caret { margin-left:auto; opacity: 0.75; }
    details[open] summary .caret { transform: rotate(180deg); }
    .grid { display:grid; gap: 10px; }
    @media (min-width: 880px) { .grid.cols2 { grid-template-columns: 1fr 1fr; } }
    .list { margin: 0; padding: 0; list-style: none; }
    .item { display:flex; gap: 10px; align-items:flex-start; padding: 8px 8px; border-top: 1px dashed rgba(35,43,54,0.75); }
    .item:first-child { border-top: 0; }
    input[type="checkbox"] { width: 18px; height: 18px; margin-top: 2px; }
    .muted { color: var(--muted); }
    .hidden { display:none !important; }
    .tag { display:inline-block; border:1px solid var(--line); border-radius:999px; padding:2px 10px; font-size:12px; color: var(--muted); }
    .divider { height:1px; background: var(--line); margin: 12px 0; opacity: 0.9; }

    @media print {
      body { background:#fff; color:#000; }
      #selectorCard .row, #selectorCard .muted, .toolbar { display:none; }
      .card, details { box-shadow:none; background:#fff; border:1px solid #ccc; }
      summary .caret { display:none; }
      input[type="checkbox"] { accent-color:#000; }
    }
  </style>
</head>

<body>
<header>
  <h1>‚úÖ Checklist de Viaje</h1>
  <p>1) Elige el tipo de viaje y aprieta <strong>Listo</strong>. 2) Se despliega el checklist con todo lo que deber√≠as llevar.</p>
</header>

<main>
  <!-- STEP 1: SELECTOR -->
  <section class="card" id="selectorCard">
    <h2>1) Tipo de viaje</h2>

    <div class="meta">
      <div>
        <label for="tipo">Tipo</label>
        <select id="tipo">
          <option value="cl">Chile</option>
          <option value="int">Internacional</option>
        </select>
      </div>

      <div>
        <label for="duracion">Duraci√≥n</label>
        <select id="duracion">
          <option value="corta">Corta (1‚Äì3 noches)</option>
          <option value="media">Media (4‚Äì7 noches)</option>
          <option value="larga">Larga (8+ noches)</option>
        </select>
      </div>

      <div>
        <label for="clima">Clima</label>
        <select id="clima">
          <option value="calor">Calor</option>
          <option value="templado">Templado</option>
          <option value="frio">Fr√≠o</option>
          <option value="lluvia">Lluvia</option>
          <option value="nieve">Nieve / Alta monta√±a</option>
        </select>
      </div>
    </div>

    <div class="row">
      <button class="primary" type="button" onclick="onReady()">Listo</button>
      <span class="muted" id="selectorSummary"></span>
    </div>

    <p class="muted" style="margin-top:10px;">
      Tip: completa primero <strong>Art√≠culo personal</strong>, luego <strong>Cabina</strong> (plan B), y al final <strong>Bodega</strong>.
    </p>
  </section>

  <!-- STEP 2: CHECKLIST -->
  <section class="card hidden" id="checklistCard">
    <h2>2) Checklist</h2>

    <div class="row">
      <span class="tag" id="tagTipo"></span>
      <span class="tag" id="tagDuracion"></span>
      <span class="tag" id="tagClima"></span>
    </div>

    <div class="toolbar">
      <button type="button" onclick="toggleAll(true)">Expandir todo</button>
      <button type="button" onclick="toggleAll(false)">Contraer todo</button>
      <button type="button" onclick="clearChecks()">Desmarcar todo</button>
      <button type="button" onclick="window.print()">Imprimir</button>
    </div>

    <div class="divider"></div>

    <!-- ART√çCULO PERSONAL -->
    <details open>
      <summary>üéí Art√≠culo personal <span class="pill">siempre contigo</span><span class="caret">‚ñº</span></summary>
      <div class="grid cols2">
        <div>
          <h3>Documentaci√≥n + dinero (en mano)</h3>
          <ul class="list">
            <li class="item"><input type="checkbox" id="ap1"><label for="ap1">C√©dula (Chile) / Pasaporte (internacional)</label></li>
            <li class="item"><input type="checkbox" id="ap2"><label for="ap2">Tarjetas + algo de efectivo</label></li>
            <li class="item"><input type="checkbox" id="ap3"><label for="ap3">Contacto de emergencia</label></li>
            <li class="item hidden" id="rowSeguro"><input type="checkbox" id="ap4"><label for="ap4">Seguro de viaje (internacional)</label></li>
            <li class="item"><input type="checkbox" id="ap5"><label for="ap5">Copias digitales (PDF) en tel√©fono + correo</label></li>
          </ul>
        </div>

        <div>
          <h3>Electr√≥nicos</h3>
          <ul class="list">
            <li class="item"><input type="checkbox" id="ap6"><label for="ap6">Tel√©fono</label></li>
            <li class="item"><input type="checkbox" id="ap7"><label for="ap7">Cargador + cable</label></li>
            <li class="item"><input type="checkbox" id="ap8"><label for="ap8">Power bank</label></li>
            <li class="item"><input type="checkbox" id="ap9"><label for="ap9">Aud√≠fonos</label></li>
          </ul>
        </div>

        <div>
          <h3>Art√≠culos personales</h3>
          <ul class="list">
            <li class="item"><input type="checkbox" id="ap10"><label for="ap10">Lentes (√≥pticos/sol) + estuche</label></li>
            <li class="item"><input type="checkbox" id="ap11"><label for="ap11">Gel alcohol / pa√±uelos</label></li>
            <li class="item"><input type="checkbox" id="ap12"><label for="ap12">B√°lsamo labial</label></li>
            <li class="item"><input type="checkbox" id="ap13"><label for="ap13">Snacks</label></li>
            <li class="item"><input type="checkbox" id="ap14"><label for="ap14">Botella vac√≠a (para llenar)</label></li>
          </ul>
        </div>

        <div>
          <h3>Mini botiqu√≠n ‚Äúen mano‚Äù</h3>
          <ul class="list">
            <li class="item"><input type="checkbox" id="ap15"><label for="ap15">Curitas / parches para ampollas</label></li>
            <li class="item"><input type="checkbox" id="ap16"><label for="ap16">Toallitas antis√©pticas</label></li>
            <li class="item"><input type="checkbox" id="ap17"><label for="ap17">Analg√©sico b√°sico (seg√∫n indicaci√≥n)</label></li>
            <li class="item"><input type="checkbox" id="ap18"><label for="ap18">Medicamentos personales + receta/indicaciones</label></li>
            <li class="item"><input type="checkbox" id="ap19"><label for="ap19">Lista de alergias + contacto m√©dico</label></li>
          </ul>
          <p class="muted" style="margin:10px 0 0;">Tu botiqu√≠n espec√≠fico lo ajustas con tu m√©dico familiar.</p>
        </div>
      </div>
    </details>

    <!-- CABINA -->
    <details open>
      <summary>üß≥ Maleta de cabina <span class="pill">plan B</span><span class="caret">‚ñº</span></summary>
      <div class="grid cols2">
        <div>
          <h3>Ropa de respaldo (seg√∫n duraci√≥n)</h3>
          <ul class="list" id="cabinaRopa"></ul>
        </div>

        <div>
          <h3>Higiene (formato cabina)</h3>
          <ul class="list">
            <li class="item"><input type="checkbox" id="ca1"><label for="ca1">Cepillo + pasta</label></li>
            <li class="item"><input type="checkbox" id="ca2"><label for="ca2">Desodorante</label></li>
            <li class="item"><input type="checkbox" id="ca3"><label for="ca3">Peine/cepillo</label></li>
            <li class="item"><input type="checkbox" id="ca4"><label for="ca4">Toallitas h√∫medas</label></li>
            <li class="item"><input type="checkbox" id="ca5"><label for="ca5">Bolsas ziplock (l√≠quidos)</label></li>
          </ul>
        </div>

        <div>
          <h3>Electr√≥nicos</h3>
          <ul class="list">
            <li class="item hidden" id="rowAdaptador"><input type="checkbox" id="ca6"><label for="ca6">Adaptador universal (internacional)</label></li>
            <li class="item"><input type="checkbox" id="ca7"><label for="ca7">Cargador m√∫ltiple</label></li>
            <li class="item"><input type="checkbox" id="ca8"><label for="ca8">Cables extra</label></li>
            <li class="item"><input type="checkbox" id="ca9"><label for="ca9">Tablet/Notebook + funda (si llevas)</label></li>
          </ul>
        </div>

        <div>
          <h3>M√≥dulo clima (cabina)</h3>
          <ul class="list" id="cabinaClima"></ul>
        </div>
      </div>
    </details>

    <!-- BODEGA -->
    <details open>
      <summary>üß≥ Maleta de bodega <span class="pill">voluminoso</span><span class="caret">‚ñº</span></summary>
      <div class="grid cols2">
        <div>
          <h3>Ropa y calzado (seg√∫n duraci√≥n)</h3>
          <ul class="list" id="bodegaRopa"></ul>
        </div>

        <div>
          <h3>Higiene full</h3>
          <ul class="list">
            <li class="item"><input type="checkbox" id="bo1"><label for="bo1">Shampoo / acondicionador / jab√≥n</label></li>
            <li class="item"><input type="checkbox" id="bo2"><label for="bo2">Crema corporal</label></li>
            <li class="item"><input type="checkbox" id="bo3"><label for="bo3">Afeitado (si aplica)</label></li>
            <li class="item"><input type="checkbox" id="bo4"><label for="bo4">Protector solar (si aplica)</label></li>
          </ul>
        </div>

        <div>
          <h3>Botiqu√≠n completo (principal)</h3>
          <ul class="list">
            <li class="item"><input type="checkbox" id="bo5"><label for="bo5">Vendas / gasas</label></li>
            <li class="item"><input type="checkbox" id="bo6"><label for="bo6">Cinta m√©dica</label></li>
            <li class="item"><input type="checkbox" id="bo7"><label for="bo7">Antis√©ptico</label></li>
            <li class="item"><input type="checkbox" id="bo8"><label for="bo8">Term√≥metro (opcional)</label></li>
            <li class="item"><input type="checkbox" id="bo9"><label for="bo9">Repelente (si aplica)</label></li>
            <li class="item"><input type="checkbox" id="bo10"><label for="bo10">Medicamentos personales + respaldo (seg√∫n m√©dico)</label></li>
          </ul>
        </div>

        <div>
          <h3>M√≥dulo clima (bodega)</h3>
          <ul class="list" id="bodegaClima"></ul>
        </div>
      </div>
    </details>

    <!-- DOCUMENTOS EXTRA SEG√öN TIPO -->
    <details open>
      <summary>üìÑ Documentaci√≥n extra <span class="pill">seg√∫n tipo</span><span class="caret">‚ñº</span></summary>
      <ul class="list" id="docExtra"></ul>
    </details>

    <!-- EXTRAS PARA DOS -->
    <details open>
      <summary>üë• Extras ‚Äúpara dos‚Äù (hombre + mujer) <span class="caret">‚ñº</span></summary>
      <ul class="list">
        <li class="item"><input type="checkbox" id="d1"><label for="d1">1 cargador m√∫ltiple + cables (kit compartido)</label></li>
        <li class="item"><input type="checkbox" id="d2"><label for="d2">1 power bank grande</label></li>
        <li class="item"><input type="checkbox" id="d3"><label for="d3">1 paraguas compacto (o 2 si lluvia segura)</label></li>
        <li class="item"><input type="checkbox" id="d4"><label for="d4">1 botiqu√≠n principal + mini botiqu√≠n cada uno</label></li>
        <li class="item"><input type="checkbox" id="d5"><label for="d5">Bolsa plegable extra (compras/ropa sucia)</label></li>
      </ul>
    </details>
  </section>
</main>

<script>
  const $ = (id) => document.getElementById(id);

  function setVisible(el, visible) {
    el.classList.toggle('hidden', !visible);
  }

  function makeItem(text, id) {
    const li = document.createElement('li');
    li.className = 'item';
    const cb = document.createElement('input');
    cb.type = 'checkbox';
    cb.id = id;
    const label = document.createElement('label');
    label.htmlFor = id;
    label.textContent = text;
    li.appendChild(cb);
    li.appendChild(label);
    return li;
  }

  function fillList(ulId, items, prefix) {
    const ul = $(ulId);
    ul.innerHTML = '';
    items.forEach((t, idx) => ul.appendChild(makeItem(t, `${prefix}_${idx}`)));
  }

  function toggleAll(open) {
    document.querySelectorAll('#checklistCard details').forEach(d => d.open = open);
  }

  function clearChecks() {
    document.querySelectorAll('#checklistCard input[type="checkbox"]').forEach(cb => cb.checked = false);
  }

  // Data
  const durationMap = {
    corta: {
      cabinaRopa: [
        '1 muda completa (polera + ropa interior + calcetines)',
        '1 capa extra (poler√≥n o chaqueta liviana)'
      ],
      bodegaRopa: [
        'Ropa interior (3‚Äì4 por persona)',
        'Calcetines (3‚Äì4 por persona)',
        'Poleras (3 por persona)',
        'Pantalones (1‚Äì2 por persona)',
        'Pijama (1 por persona)',
        'Zapatos extra (opcional)'
      ]
    },
    media: {
      cabinaRopa: [
        '1 muda completa (polera + ropa interior + calcetines)',
        '1 capa extra (poler√≥n o chaqueta liviana)',
        'Pijama liviano (1‚Äì2)'
      ],
      bodegaRopa: [
        'Ropa interior (6‚Äì8 por persona)',
        'Calcetines (6‚Äì8 por persona)',
        'Poleras (5‚Äì7 por persona)',
        'Pantalones (2‚Äì3 por persona)',
        'Capas extra (1‚Äì2)',
        'Pijama (1‚Äì2)',
        'Outfit formal (si aplica)'
      ]
    },
    larga: {
      cabinaRopa: [
        '1 muda completa (polera + ropa interior + calcetines)',
        '1 capa extra (poler√≥n o chaqueta liviana)',
        'Pijama liviano (1‚Äì2)',
        'Bolsa para ropa sucia'
      ],
      bodegaRopa: [
        'Ropa interior (7‚Äì10 por persona, con plan de lavado)',
        'Calcetines (7‚Äì10 por persona)',
        'Poleras (7‚Äì10 por persona)',
        'Pantalones (3‚Äì4 por persona)',
        'Capas (2‚Äì3)',
        'Pijama (2)',
        'Kit lavander√≠a (jab√≥n + pinzas) opcional'
      ]
    }
  };

  const climateMap = {
    calor: {
      cabina: ['Gorro', 'Lentes de sol', 'Bloqueador', 'Repelente (si aplica)'],
      bodega: ['Ropa liviana extra', 'Traje de ba√±o (si aplica)', 'Sandalias (si aplica)']
    },
    templado: {
      cabina: ['Chaqueta liviana', 'Poler√≥n/polar (si eres friolento)'],
      bodega: ['Pantal√≥n c√≥modo extra', 'Zapatillas cerradas (si aplica)']
    },
    frio: {
      cabina: ['Gorro', 'Guantes (si aplica)', 'B√°lsamo labial extra'],
      bodega: ['Parka/abrigo', 'Primera capa t√©rmica', 'Bufanda', 'Calcetines gruesos']
    },
    lluvia: {
      cabina: ['Paraguas compacto', 'Bolsas ziplock (ropa mojada/electr√≥nicos)'],
      bodega: ['Chaqueta impermeable/cortaviento', 'Funda impermeable mochila']
    },
    nieve: {
      cabina: ['B√°lsamo labial extra', 'Protector solar'],
      bodega: ['Calzado adecuado', 'Capas t√©rmicas extra', 'Cuello/buff']
    }
  };

  const docMap = {
    cl: [
      'Reservas/confirmaciones (hotel/bus/avi√≥n)',
      'Direcci√≥n del alojamiento (offline)',
      'Medios de pago (tarjetas + efectivo)',
      'bip!/TAG u otros (si aplica)'
    ],
    int: [
      'Seguro de viaje',
      'Adaptador universal',
      'E-sim / roaming listo',
      'Efectivo en moneda local (m√≠nimo)',
      'Direcci√≥n del alojamiento (impresa o offline)'
    ]
  };

  function humanTipo(v){ return v === 'cl' ? 'Chile' : 'Internacional'; }
  function humanDur(v){ return v === 'corta' ? 'Corta (1‚Äì3)' : v === 'media' ? 'Media (4‚Äì7)' : 'Larga (8+)'; }
  function humanCli(v){
    return v === 'calor' ? 'Calor' : v === 'templado' ? 'Templado' : v === 'frio' ? 'Fr√≠o' : v === 'lluvia' ? 'Lluvia' : 'Nieve/Alta monta√±a';
  }

  function onReady() {
    const tipo = $('tipo').value;
    const dur = $('duracion').value;
    const cli = $('clima').value;

    // Show checklist section
    setVisible($('checklistCard'), true);

    // Tags
    $('tagTipo').textContent = `Tipo: ${humanTipo(tipo)}`;
    $('tagDuracion').textContent = `Duraci√≥n: ${humanDur(dur)}`;
    $('tagClima').textContent = `Clima: ${humanCli(cli)}`;
    $('selectorSummary').textContent = `‚Üí Listo: ${humanTipo(tipo)} ¬∑ ${humanDur(dur)} ¬∑ ${humanCli(cli)}`;

    // Conditional rows
    setVisible($('rowSeguro'), tipo === 'int');
    setVisible($('rowAdaptador'), tipo === 'int');

    // Fill dynamic lists
    fillList('cabinaRopa', durationMap[dur].cabinaRopa, 'cabR');
    fillList('bodegaRopa', durationMap[dur].bodegaRopa, 'bodR');
    fillList('cabinaClima', climateMap[cli].cabina, 'cabC');
    fillList('bodegaClima', climateMap[cli].bodega, 'bodC');
    fillList('docExtra', docMap[tipo], 'docX');

    // Scroll to checklist
    $('checklistCard').scrollIntoView({ behavior: 'smooth', block: 'start' });
  }
</script>
</body>
</html>
